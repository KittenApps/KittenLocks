# import "./ChasterUserFragment.graphql"
# import "./SharedLockFragment.graphql"
# import "./LockFragment.graphql"

query GetPublicLocks($userId: String!) {
  locks(userId: $userId) @noauth @rest(type: "Lock", path: "/locks/user/{args.userId}") {
    ...LockFragment
  }
}

query GetPublicProfile($username: String!) {
  profile(username: $username) @noauth @rest(type: "Profile", path: "/users/profile/{args.username}/details"){
    ...ProfileFragment
  }
}

fragment ProfileFragment on Profile {
  user @type(name: "ChasterUser") {
    ...ChasterUserFragment
  }
  stats
  achievements @type(name: "Achievement") {
    ...AchievementFragment
  }
  sharedLocks @type(name: "SharedLock") {
    ...SharedLockFragment
  }
}

fragment AchievementFragment on Achievement {
  slug
  granted
  progress
  total
  grantedAt
  name
  description
  category
  progressEnabled
  hideIfNotGranted
}